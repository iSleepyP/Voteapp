<html>
    <head>
        <title>Topic {{topic.name}}</title>
        <link rel="stylesheet" type="text/css" href="../static/index.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    </head>
    <body>
        <div class="container-fluid mt-3">
        <button type="button" style="text-align: center;"><a href="/" style="text-decoration: none; color: black;">back</a></button><hr><br>
        <div class="container" style="justify-content: center; width: 450px; border:3px solid black ; padding: 10px; height: auto;">
            <h1>Vote for {{topic.name}}</h1>
        <form action="/topic/{{topic_id}}/newChoice" method="post"> <!--ส่งข้อมูลให้ server api ใน action ผ่าน name-->
            <label for="choice_name">New Choice</label>
            <input type="text" name="choice_name" id="choice_name"> <!--nameคือสิ่งที่จะมา get ตัวแปรในapi-->
            <button type="submit">Add</button>
        </form>
        <table>
            <tr>
                <th>ID</th>
                <th>CHOICE</th>
                <th>VOTE</th>
                <th>ACTION</th>
            </tr>
           
                {% for v in votes %}
                <tr>
                    <td>{{loop.index}}</td>
                    <td>{{v.choice_name}}</td>
                    <td>{{v.choice_count}}</td>
                    <td>
                        <form action="/topic/{{topic.id}}/vote" method="post">
                        <input type="hidden" name="choice" id="choice" value="{{v.id}}"/>
                        <button type="submit">Vote</button>
                    </form>
                </td>
                </tr>
                {% endfor %}
            
        </table>
    </div>
    </div>
    </body>
</html>